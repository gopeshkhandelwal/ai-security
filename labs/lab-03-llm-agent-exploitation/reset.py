#!/usr/bin/env python3
"""
Lab 03: Reset script
=====================
Cleans up any files created during the lab demonstration.

Author: GopeshK
License: MIT License
Disclaimer: For educational and demonstration purposes only.
"""

import os
import shutil
from pathlib import Path


def reset():
    """Clean up lab artifacts"""
    
    print("üßπ Cleaning up Lab 05 artifacts...\n")
    
    # Files to remove
    files_to_remove = [
        "agent_compromised.txt",
        "audit_log.txt",
        "exfiltrated_data.txt",
        "ATTACK_SUCCESS.txt",
        "exfiltrated_secrets.txt",
    ]
    
    # Directories to remove
    dirs_to_remove = [
        "sandbox",
        "bypass_payloads",
    ]
    
    removed_count = 0
    
    for filename in files_to_remove:
        filepath = Path(filename)
        if filepath.exists():
            filepath.unlink()
            print(f"  ‚úì Removed: {filename}")
            removed_count += 1
    
    for dirname in dirs_to_remove:
        dirpath = Path(dirname)
        if dirpath.exists():
            shutil.rmtree(dirpath)
            print(f"  ‚úì Removed directory: {dirname}")
            removed_count += 1
    
    # Recreate sandbox for clean state
    Path("sandbox").mkdir(exist_ok=True)
    print("  ‚úì Created clean sandbox directory")
    
    if removed_count == 0:
        print("  ‚ÑπÔ∏è  Nothing to clean up - lab is already reset")
    else:
        print(f"\n‚úÖ Cleaned up {removed_count} items")
    
    print("\nüîÑ Lab 05 reset complete!")


if __name__ == "__main__":
    reset()
